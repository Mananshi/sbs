<!DOCTYPE html>

<html lang="en">
<head>
{% load static %}
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pending Requests</title>
<link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link href="{% static 'pendingrequest.css' %}" rel="stylesheet" type="text/css">
</head> 
<body>
	<img src="{% static 'logo2.jpeg' %}" style="width: 15%; padding: 12px;">
<nav class="navbar navbar-default navbar-expand-lg navbar-light">
	<div class="navbar-header d-flex col">
		  		
		<button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle navbar-toggler ml-auto">
			<span class="navbar-toggler-icon"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<!-- Collection of nav links, forms, and other content for toggling -->
	<div id="navbarCollapse" class="collapse navbar-collapse">
		<ul class="nav navbar-nav navbar-left ml-auto">
			<li class="nav-item"><a href="#" class="nav-link">Home</a></li>			
			<li class="nav-item dropdown">
				<a data-toggle="dropdown" class="nav-link dropdown-toggle" href="#">Menu<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="#" class="dropdown-item">Pending Requests</a></li>
					<li><a href="home.html" class="dropdown-item">Available Time-slots</a></li><!--href=home_page.html or whatever the name of the home page html file is-->
				</ul>
			</li>
			<li class="nav-item "><a href="#" class="nav-link">Contact</a></li>
		</ul>
		

			
					
		<ul class="nav navbar-nav navbar-right ml-auto">
			<li type="button" class="nav-item dropdown" data-toggle="tooltip" data-placement="bottom" title="Search">
				<a data-toggle="dropdown" class="nav-link dropdown-toggle" href="#"><i class="fa fa-search"></i></a>
				<a data-toggle="dropdown" class="nav-link dropdown-toggle hide" href="#"><i class="fa fa-close"></i></a>
				<ul class="dropdown-menu">
					<li>
                        <form>
                            <div class="input-group search-box">
								<form>
								 <input type="date" id="datepicker" class="form-control">							
								<p style="text-align:center;">Search by Room number</p><input type="number" id="roomNumber" class="form-control" placeholder="Room number" ><p style="text-align: center;">Or<br>Search by time slot</p>
								To:<input type="time" id="timeTo" class="form-control" placeholder="to" ><input type="time" id="timeFrom" class="form-control" placeholder="from" >
								</form>
								<span class="input-group-btn">
									<button type="button" class="btn btn-primary"><i class="fa fa-search"></i></button>
								</span>
                            </div>
                        </form>                        
					</li>
				</ul>
			</li>
			<li type="button" class="nav-item" data-toggle="tooltip" data-placement="bottom" title="Logout"><a href="#" class="nav-link"><i class="fa fa-sign-out"></i></a></li>
			
		</ul>
  </div>
</nav>
<script>
	$(document).ready(function(){
    var dropdown = $(".navbar-right .dropdown");
    var toogleBtn = $(".navbar-right .dropdown-toggle");
    
    // Toggle search and close icon for search dropdown
    dropdown.on("show.bs.dropdown", function(e){
        toogleBtn.toggleClass("hide");
    });
    dropdown.on("hide.bs.dropdown", function(e){
        toogleBtn.addClass("hide");
        toogleBtn.first().removeClass("hide");
    });
});
</script>
<div style="background-color: lavenderblush" class="table-responsive">
    <h2>Pending Request</h2>
    <table id="customers" style="width:auto; min-width: 50%;">

        {% for room,data in pendingReq.items %}
            {% for clash_block in data %}
                <td rowspan = "{{clash_block|length}}"> {{ room }} </td>
                <td><button> {{clash_block.0.from_ts}} - {{clash_block.0.to_ts}} </button></td>

                {% if clash_block|length > 1 %}
                    {% for req in clash_block %}
                        {% if forloop.counter != 0 %}

                            <tr>
                                <td><button> {{req.from_ts}} - {{req.to_ts}} </button></td>
                            </tr>

                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endfor %}
        {% endfor %}

    </table>
</div>
<div id="myModal" class="modal" style="background-color:lavenderblush; width: 50%; margin-left: auto; margin-right: auto;">
  
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        <p class="modal-title">Pending Request</p>
      </div>
      <div class="modal-body">
          <p style="text-align: left;">
              Requested by: Yashraj Kakkad<br>
              Event: Ardino Workshop<br>
              Description: The Programming club would like to arrange am ardino workshop for all beginners and the workshop will be sponspored by the Pclub of IIT Mumbai.
          </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-success">Accept</button>
        <button type="button" class="btn btn-outline-danger">Decline</button>
      </div>
    </div>

</div>
<script>
var modal = document.getElementById("myModal");
var btn = document.getElementById("btn1");
var button = document.getElementsByClassName("submit");
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
button.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
</body>
</html>                                                        